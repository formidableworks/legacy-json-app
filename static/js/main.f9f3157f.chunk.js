(this["webpackJsonplegacy-json-app"]=this["webpackJsonplegacy-json-app"]||[]).push([[0],{160:function(e,t,n){e.exports=n(271)},271:function(e,t,n){"use strict";n.r(t);n(161);var r=n(6),a=n.n(r),i=n(23),o=n.n(i),c=n(311),s=n(312),l=n(313),u=n(28),d=n(7),m=n(14),p=n(70),g=n(305),f=n(59);f.c.config({paths:{vs:"monaco_files/vs"}});var v={DELIVERY_CONFIG:"delivery_config.json",TRACKING_CONFIG:"tracking_config.json"},y={validate:!0,schemas:[{uri:"http://legacyjsonapp/delivery_config.json",fileMatch:[v.DELIVERY_CONFIG],schema:{title:"delivery config",description:"All informational data required to complete a delivery.",type:"object",properties:{customer_id:{type:"string",description:"An identifier unique to each customer."},service_tier:{type:"string",enum:["next day","same day","priority one"],description:"Level of Dashcore delivery service."},signature_required:{type:"boolean"},address:{type:"object",description:"Expected location of customer.",properties:{addressee:{type:"string",description:"Item recipient"},premise_identifier:{type:"string",description:"street-level property identifier"},street:{type:"string",description:"a public road in a city, town, or village, typically with houses and buildings on one or both sides."},locality:{type:"string",description:"locality is a necessary part of the  postal address if there is more than one street of the same name in the given post town."},post_town:{type:"string",description:"postal town"},postcode:{type:"string",pattern:"^[A-Z0-9_-]+$",description:"The UK postcode consists of five to seven alphanumeric characters which was created by Royal Mail. A full postcode designates an area with multiple addresses or a single delivery point."}},required:["addressee","premise_identifier","postcode"]},handling_tags:{description:"Tags for the product",type:"array",items:{type:"string"},minItems:1,uniqueItems:!0},dimensions:{type:"object",description:"dimension of item to be delivered.",properties:{width:{type:"number",minimum:1,maximum:7},height:{type:"number",minimum:1,maximum:7},depth:{type:"number",minimum:1,maximum:7}}}},required:["customer_id","address","service_tier"]}},{uri:"http://legacyjsonapp/tracking_config.json",fileMatch:[v.TRACKING_CONFIG],schema:{title:"tracking config",description:"All informational data required to track a delivery.",type:"object",properties:{trackingId:{description:"An identifier unique to each unit.",type:"number"},trackingTech:{description:"Active tracking technology applied to unit.",type:"string",enum:["gps","beacon"]},beaconId:{description:"The beacons lookup id.",type:"number"}},if:{properties:{trackingTech:{const:"beacon"}},required:["trackingTech"]},then:{required:["beaconId"]},required:["trackingId"]}}]},b=n(314),h=n(301),E=n(302),j=n(303),C=n(304);function k(e){var t=e.isOpen,n=e.onClose,r=e.originalValue,i=e.modifiedValue,o=e.onConfirm;return a.a.createElement(b.a,{open:t,onClose:n,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",maxWidth:"lg",fullWidth:!0},a.a.createElement(h.a,{id:"confirm-dialog-title"},"Review and confirm changes"),a.a.createElement(E.a,null,a.a.createElement(f.a,{original:r,modified:i,options:{readOnly:!0},language:"json",height:"25rem"})),a.a.createElement(j.a,null,a.a.createElement(C.a,{onClick:n},"Cancel"),a.a.createElement(C.a,{onClick:function(){n(),o()}},"Confirm")))}var O=n(141),I=n.n(O),_=n(142),N=n.n(_),S=Object(g.a)((function(e){return{toolBar:{display:"flex",gap:e.spacing(.5),marginBottom:e.spacing(.5)}}}));function w(e){var t=e.onSave,n=e.onFormat,r=S();return a.a.createElement("div",{className:r.toolBar},a.a.createElement(C.a,{onClick:n,startIcon:a.a.createElement(I.a,null),variant:"outlined",size:"small"},"Format"),a.a.createElement(C.a,{onClick:t,startIcon:a.a.createElement(N.a,null),variant:"outlined",size:"small"},"Save"))}var R=n(306),L=n(307),q=n(308),D=n(309),F=n(315),T=n(310),x=n(69),B=n(143),W=n.n(B),M=n(105),A=n.n(M),G=n(146),V=n.n(G),z=n(145),P=n.n(z),U=n(147),K=n.n(U),Y=Object(g.a)((function(e){return{success:{color:e.palette.success.main},info:{color:e.palette.info.main},warning:{color:e.palette.warning.main},error:{color:e.palette.error.main},ListItemIcon:{minWidth:36}}}));function H(e){var t=e.markers,n=e.onMarkerClick,i=Y(),o=Object(r.useState)(null),c=Object(d.a)(o,2),s=c[0],l=c[1],u=function(){l(null)},m=Boolean(s),p=m?"issues-popover":void 0;return a.a.createElement("div",null,a.a.createElement(C.a,{onClick:function(e){l(e.currentTarget)},"aria-describedby":p,variant:"text",startIcon:t.length>0?a.a.createElement(A.a,{className:i.warning}):a.a.createElement(W.a,{className:i.success}),disabled:!(t.length>0),size:"small"},"".concat(t.length," ").concat(1===t.length?"issue":"issues")),a.a.createElement(R.a,{id:p,open:m,anchorEl:s,onClose:u,anchorOrigin:{vertical:"bottom",horizontal:"left"}},a.a.createElement(L.a,{dense:!0},t.map((function(e){return a.a.createElement(q.a,{button:!0,onClick:function(){u(),n(e)},key:"".concat(e.message).concat(e.startColumn).concat(e.startLineNumber)},a.a.createElement(D.a,{className:i.ListItemIcon},e.severity===x.a.Hint&&a.a.createElement(F.a,{title:"Severity: Hint"},a.a.createElement(P.a,null)),e.severity===x.a.Info&&a.a.createElement(F.a,{title:"Severity: Info"},a.a.createElement(V.a,{className:i.info})),e.severity===x.a.Warning&&a.a.createElement(F.a,{title:"Severity: Warning"},a.a.createElement(K.a,{className:i.warning})),e.severity===x.a.Error&&a.a.createElement(F.a,{title:"Severity: Error"},a.a.createElement(A.a,{className:i.error}))),a.a.createElement(T.a,{primary:"Ln ".concat(e.startLineNumber,", Col ").concat(e.startColumn),secondary:e.message}))})))))}var J=n(148),Q=n.n(J);function Z(){return a.a.createElement(C.a,{startIcon:a.a.createElement(Q.a,null),size:"small"},"Keyboard shortcuts")}var $=Object(g.a)((function(e){return{statusBar:{display:"flex",justifyContent:"space-between",borderStyle:"solid",borderWidth:0,borderBottomWidth:2,borderLeftWidth:2,borderRightWidth:2,borderBottomRightRadius:e.spacing(1),borderBottomLeftRadius:e.spacing(1),borderColor:function(t){return t.editorIsFocused?e.palette.primary.main:e.palette.divider}}}}));function X(e){var t=e.editorIsFocused,n=e.markers,r=e.onMarkerClick,i=$({editorIsFocused:t});return a.a.createElement("div",{className:i.statusBar},a.a.createElement(Z,null),a.a.createElement(H,{markers:n,onMarkerClick:r}))}var ee=Object(g.a)((function(e){return{editorWrapper:{borderWidth:2,borderStyle:"solid",borderColor:function(t){return t.isFocused?e.palette.primary.main:e.palette.divider}}}}));function te(e){var t=e.value,n=e.onSubmit,i=e.editorPath,o=e.heightInRem,c=Object(r.useRef)(null),s=Object(r.useState)(t),l=Object(d.a)(s,2),u=l[0],m=l[1],p=Object(r.useState)(!1),g=Object(d.a)(p,2),b=g[0],h=g[1],E=Object(r.useState)(!1),j=Object(d.a)(E,2),C=j[0],O=j[1],I=Object(r.useState)([]),_=Object(d.a)(I,2),N=_[0],S=_[1],R=ee({isFocused:b});Object(r.useEffect)((function(){return m(t)}),[t]);return a.a.createElement("div",null,a.a.createElement(w,{onSave:function(){O(!0)},onFormat:function(){var e;null===(e=c.current)||void 0===e||e.trigger("external toolbar","editor.action.formatDocument",void 0)}}),a.a.createElement("div",{className:R.editorWrapper},a.a.createElement(f.b,{onMount:function(e,t){var n;t.languages.json.jsonDefaults.setDiagnosticsOptions(y),c.current=e,null===(n=e.getModel())||void 0===n||n.updateOptions({tabSize:2}),e.onDidFocusEditorText((function(){return h(!0)})),e.onDidBlurEditorText((function(){return h(!1)}))},height:"".concat(o,"rem"),defaultLanguage:"json",value:u,onChange:function(e){return m(e)},path:v[i],onValidate:function(e){return S(e)}})),a.a.createElement(X,{editorIsFocused:b,markers:N,onMarkerClick:function(e){var t;null===(t=c.current)||void 0===t||t.setSelection({startLineNumber:e.startLineNumber,endLineNumber:e.endLineNumber,startColumn:e.startColumn,endColumn:e.endColumn})}}),a.a.createElement(k,{isOpen:C,onClose:function(){return O(!1)},originalValue:null!==t&&void 0!==t?t:"",modifiedValue:u,onConfirm:function(){return n(null!==u&&void 0!==u?u:"")}}))}var ne=n(149),re=n(31),ae=Object(ne.a)({reducerPath:"dashcoreApi",refetchOnMountOrArgChange:!0,baseQuery:Object(re.d)({baseUrl:"/"}),tagTypes:["DeliveryConfig","TrackingConfig"],endpoints:function(){return{}}}),ie=ae.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{getDeliveryConfig:e.query({query:function(){return"/deliveryconfig"},providesTags:["DeliveryConfig"]}),updateDeliveryConfig:e.mutation({query:function(e){return{url:"/deliveryconfig",method:"PUT",body:e}},invalidatesTags:["DeliveryConfig"]})}}}),oe=ie.useGetDeliveryConfigQuery,ce=ie.useUpdateDeliveryConfigMutation,se=Object(g.a)((function(e){return{appRoot:{margin:e.spacing(1)}}}));function le(){var e=se(),t=oe(void 0,{selectFromResult:function(e){var t;return Object(m.a)({jsonString:null===(t=e.data)||void 0===t?void 0:t.value},e)}}).jsonString,n=ce(),r=Object(d.a)(n,1)[0];return a.a.createElement("div",{className:e.appRoot},a.a.createElement(p.a,{variant:"h4"},"Legacy json app"),a.a.createElement("br",null),a.a.createElement(te,{value:t,onSubmit:function(e){return r({value:e})},heightInRem:14,editorPath:"DELIVERY_CONFIG"}))}var ue=n(15),de=n(17),me=Object(de.a)({reducer:Object(ue.a)({},ae.reducerPath,ae.reducer),middleware:function(e){return e().concat(ae.middleware)}}),pe=n(9),ge=n(51),fe={value:'          {\n  "signature_required": "yes indeed", "customer_id": "1235339", "service_tier": "invalid enum val",\n  "address": {\n    "addressee": "Stringer Bell",\n    "premise_identifier": "Barksdale towers",\n  },\n  "handling_tags": [\n    "fragile",\n    "fragile"\n  ],\n  "dimensions": {\n    "width": -1,\n    "height": 4,\n    "depth": 1001\n  }\n}\n'},ve={value:'{\n "trackingId": 963258865235698523414741635649366\n}\n'},ye=[ge.rest.get("/deliveryconfig",(function(e,t,n){return t(n.status(200),n.json(fe))})),ge.rest.put("/deliveryconfig",(function(e,t,n){var r=e.body.value;return fe={value:r},t(n.status(200))})),ge.rest.get("/trackingconfig",(function(e,t,n){return t(n.status(200),n.json(ve))})),ge.rest.put("/trackingconfig",(function(e,t,n){var r=e.body.value;return ve={value:r},t(n.status(200))}))],be=ge.setupWorker.apply(void 0,Object(pe.a)(ye)),he=document.getElementById("root"),Ee=Object(c.a)();be.start({onUnhandledRequest:"bypass"}),o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(u.a,{store:me},a.a.createElement(s.a,{theme:Ee},a.a.createElement(l.a,null),a.a.createElement(le,null)))),he)}},[[160,1,2]]]);
//# sourceMappingURL=main.f9f3157f.chunk.js.map