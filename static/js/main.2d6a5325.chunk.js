(this["webpackJsonplegacy-json-app"]=this["webpackJsonplegacy-json-app"]||[]).push([[0],{162:function(e,t,a){e.exports=a(273)},273:function(e,t,a){"use strict";a.r(t);a(163);var n=a(4),r=a.n(n),i=a(25),o=a.n(i),l=a(316),c=a(317),s=a(318),u=a(29),m=a(7),d=a(14),p=a(70),g=a(310),v=a(68),f={DELIVERY_CONFIG:"delivery_config.json",TRACKING_CONFIG:"tracking_config.json"},b={validate:!0,schemas:[{uri:"http://legacyjsonapp/delivery_config.json",fileMatch:[f.DELIVERY_CONFIG],schema:{title:"delivery config",description:"All informational data required to complete a delivery.",type:"object",properties:{customer_id:{type:"string",description:"An identifier unique to each customer."},service_tier:{type:"string",enum:["next day","same day","priority one"],description:"Level of Dashcore delivery service."},signature_required:{type:"boolean"},address:{type:"object",description:"Expected location of customer.",properties:{addressee:{type:"string",description:"Item recipient"},premise_identifier:{type:"string",description:"street-level property identifier"},street:{type:"string",description:"a public road in a city, town, or village, typically with houses and buildings on one or both sides."},locality:{type:"string",description:"locality is a necessary part of the  postal address if there is more than one street of the same name in the given post town."},post_town:{type:"string",description:"postal town"},postcode:{type:"string",pattern:"^[A-Z0-9_-]+$",description:"The UK postcode consists of five to seven alphanumeric characters which was created by Royal Mail. A full postcode designates an area with multiple addresses or a single delivery point."}},required:["addressee","premise_identifier","postcode"]},handling_tags:{description:"Tags for the product",type:"array",items:{type:"string"},minItems:1,uniqueItems:!0},dimensions:{type:"object",description:"dimension of item to be delivered.",properties:{width:{type:"number",minimum:1,maximum:7},height:{type:"number",minimum:1,maximum:7},depth:{type:"number",minimum:1,maximum:7}}}},required:["customer_id","address","service_tier"]}},{uri:"http://legacyjsonapp/tracking_config.json",fileMatch:[f.TRACKING_CONFIG],schema:{title:"tracking config",description:"All informational data required to track a delivery.",type:"object",properties:{trackingId:{description:"An identifier unique to each unit.",type:"number"},trackingTech:{description:"Active tracking technology applied to unit.",type:"string",enum:["gps","beacon"]},beaconId:{description:"The beacons lookup id.",type:"number"}},if:{properties:{trackingTech:{const:"beacon"}},required:["trackingTech"]},then:{required:["beaconId"]},required:["trackingId"]}}]},y=a(319),h=a(306),E=a(307),j=a(308),C=a(309);function k(e){var t=e.isOpen,a=e.onClose,n=e.originalValue,i=e.modifiedValue,o=e.onConfirm;return r.a.createElement(y.a,{open:t,onClose:a,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",maxWidth:"lg",fullWidth:!0},r.a.createElement(h.a,{id:"confirm-dialog-title"},"Review and confirm changes"),r.a.createElement(E.a,null,r.a.createElement(v.a,{original:n,modified:i,options:{readOnly:!0},language:"json",height:"25rem"})),r.a.createElement(j.a,null,r.a.createElement(C.a,{onClick:a},"Cancel"),r.a.createElement(C.a,{onClick:function(){a(),o()}},"Confirm")))}var O=a(144),I=a.n(O),N=a(145),_=a.n(N),S=Object(g.a)((function(e){return{toolBar:{display:"flex",gap:e.spacing(.5),marginBottom:e.spacing(.5)}}}));function R(e){var t=e.onSave,a=e.onFormat,n=S();return r.a.createElement("div",{className:n.toolBar},r.a.createElement(C.a,{onClick:a,startIcon:r.a.createElement(I.a,null),variant:"outlined",size:"small"},"Format"),r.a.createElement(C.a,{onClick:t,startIcon:r.a.createElement(_.a,null),variant:"outlined",size:"small"},"Save"))}var w=a(311),z=a(312),L=a(313),D=a(314),F=a(320),T=a(315),q=a(69),x=a(146),W=a.n(x),B=a(107),A=a.n(B),M=a(149),G=a.n(M),V=a(148),P=a.n(V),U=a(150),K=a.n(U),Y=Object(g.a)((function(e){return{success:{color:e.palette.success.main},info:{color:e.palette.info.main},warning:{color:e.palette.warning.main},error:{color:e.palette.error.main},ListItemIcon:{minWidth:36}}}));function H(e){var t=e.markers,a=e.onMarkerClick,i=Y(),o=Object(n.useState)(null),l=Object(m.a)(o,2),c=l[0],s=l[1],u=function(){s(null)},d=Boolean(c),p=d?"issues-popover":void 0;return r.a.createElement("div",null,r.a.createElement(C.a,{onClick:function(e){s(e.currentTarget)},"aria-describedby":p,variant:"text",startIcon:t.length>0?r.a.createElement(A.a,{className:i.warning}):r.a.createElement(W.a,{className:i.success}),disabled:!(t.length>0),size:"small"},"".concat(t.length," ").concat(1===t.length?"issue":"issues")),r.a.createElement(w.a,{id:p,open:d,anchorEl:c,onClose:u,anchorOrigin:{vertical:"bottom",horizontal:"left"}},r.a.createElement(z.a,{dense:!0},t.map((function(e){return r.a.createElement(L.a,{button:!0,onClick:function(){u(),a(e)},key:"".concat(e.message).concat(e.startColumn).concat(e.startLineNumber)},r.a.createElement(D.a,{className:i.ListItemIcon},e.severity===q.a.Hint&&r.a.createElement(F.a,{title:"Severity: Hint"},r.a.createElement(P.a,null)),e.severity===q.a.Info&&r.a.createElement(F.a,{title:"Severity: Info"},r.a.createElement(G.a,{className:i.info})),e.severity===q.a.Warning&&r.a.createElement(F.a,{title:"Severity: Warning"},r.a.createElement(K.a,{className:i.warning})),e.severity===q.a.Error&&r.a.createElement(F.a,{title:"Severity: Error"},r.a.createElement(A.a,{className:i.error}))),r.a.createElement(T.a,{primary:"Ln ".concat(e.startLineNumber,", Col ").concat(e.startColumn),secondary:e.message}))})))))}var J=a(151),Q=a.n(J),Z=a(321),$=Object(g.a)((function(e){return{contentRoot:{display:"flex",flexDirection:"column",margin:e.spacing(1),gap:e.spacing(1)},label:{marginRight:e.spacing(1)},plusChip:{marginLeft:e.spacing(.5),marginRight:e.spacing(.5)}}}));function X(){var e=$(),t=r.a.useState(null),a=Object(m.a)(t,2),n=a[0],i=a[1],o=Boolean(n),l=o?"keyboard-shortcuts-popover":void 0;return r.a.createElement("div",null,r.a.createElement(C.a,{"aria-describedby":l,color:"primary",onClick:function(e){i(e.currentTarget)},size:"small",startIcon:r.a.createElement(Q.a,null)},"Keyboard shortcuts"),r.a.createElement(w.a,{id:l,open:o,anchorEl:n,onClose:function(){i(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement("div",{className:e.contentRoot},r.a.createElement("div",null,r.a.createElement("span",{className:e.label},"Auto complete:"),r.a.createElement(Z.a,{variant:"outlined",size:"small",label:"ctrl"}),r.a.createElement("span",{className:e.plusChip},"+"),r.a.createElement(Z.a,{variant:"outlined",size:"small",label:"space"})),r.a.createElement("div",null,r.a.createElement("span",{className:e.label},"Copy:"),r.a.createElement(Z.a,{component:"span",variant:"outlined",size:"small",label:"ctrl"}),r.a.createElement("span",{className:e.plusChip},"+"),r.a.createElement(Z.a,{component:"span",variant:"outlined",size:"small",label:"c"})),r.a.createElement("div",null,r.a.createElement("span",{className:e.label},"Paste:"),r.a.createElement(Z.a,{component:"span",variant:"outlined",size:"small",label:"ctrl"}),r.a.createElement("span",{className:e.plusChip},"+"),r.a.createElement(Z.a,{component:"span",variant:"outlined",size:"small",label:"v"})),r.a.createElement("div",null,r.a.createElement("span",{className:e.label},"Format:"),r.a.createElement(Z.a,{component:"span",variant:"outlined",size:"small",label:"ctrl"}),r.a.createElement("span",{className:e.plusChip},"+"),r.a.createElement(Z.a,{component:"span",variant:"outlined",size:"small",label:"shift"}),r.a.createElement("span",{className:e.plusChip},"+"),r.a.createElement(Z.a,{component:"span",variant:"outlined",size:"small",label:"i"})),r.a.createElement("div",null,r.a.createElement("span",{className:e.label},"Command palette:"),r.a.createElement(Z.a,{component:"span",variant:"outlined",size:"small",label:"f1"})))))}var ee=Object(g.a)((function(e){return{statusBar:{display:"flex",justifyContent:"space-between",borderStyle:"solid",borderWidth:0,borderBottomWidth:2,borderLeftWidth:2,borderRightWidth:2,borderBottomRightRadius:e.spacing(1),borderBottomLeftRadius:e.spacing(1),borderColor:function(t){return t.editorIsFocused?e.palette.primary.main:e.palette.divider}}}}));function te(e){var t=e.editorIsFocused,a=e.markers,n=e.onMarkerClick,i=ee({editorIsFocused:t});return r.a.createElement("div",{className:i.statusBar},r.a.createElement(X,null),r.a.createElement(H,{markers:a,onMarkerClick:n}))}v.c.config({paths:{vs:"".concat("/legacy-json-app","/monaco_files/vs")}});var ae=Object(g.a)((function(e){return{editorWrapper:{borderWidth:2,borderStyle:"solid",borderColor:function(t){return t.isFocused?e.palette.primary.main:e.palette.divider}}}}));function ne(e){var t=e.value,a=e.onSubmit,i=e.editorPath,o=e.heightInRem,l=Object(n.useRef)(null),c=Object(n.useState)(t),s=Object(m.a)(c,2),u=s[0],d=s[1],p=Object(n.useState)(!1),g=Object(m.a)(p,2),y=g[0],h=g[1],E=Object(n.useState)(!1),j=Object(m.a)(E,2),C=j[0],O=j[1],I=Object(n.useState)([]),N=Object(m.a)(I,2),_=N[0],S=N[1],w=ae({isFocused:y});Object(n.useEffect)((function(){return d(t)}),[t]);return r.a.createElement("div",null,r.a.createElement(R,{onSave:function(){O(!0)},onFormat:function(){var e;null===(e=l.current)||void 0===e||e.trigger("external toolbar","editor.action.formatDocument",void 0)}}),r.a.createElement("div",{className:w.editorWrapper},r.a.createElement(v.b,{onMount:function(e,t){var a;t.languages.json.jsonDefaults.setDiagnosticsOptions(b),l.current=e,null===(a=e.getModel())||void 0===a||a.updateOptions({tabSize:2}),e.onDidFocusEditorText((function(){return h(!0)})),e.onDidBlurEditorText((function(){return h(!1)}))},height:"".concat(o,"rem"),defaultLanguage:"json",value:u,onChange:function(e){return d(e)},path:f[i],onValidate:function(e){return S(e)}})),r.a.createElement(te,{editorIsFocused:y,markers:_,onMarkerClick:function(e){var t;null===(t=l.current)||void 0===t||t.setSelection({startLineNumber:e.startLineNumber,endLineNumber:e.endLineNumber,startColumn:e.startColumn,endColumn:e.endColumn})}}),r.a.createElement(k,{isOpen:C,onClose:function(){return O(!1)},originalValue:null!==t&&void 0!==t?t:"",modifiedValue:u,onConfirm:function(){return a(null!==u&&void 0!==u?u:"")}}))}var re=a(152),ie=a(31),oe=Object(re.a)({reducerPath:"dashcoreApi",refetchOnMountOrArgChange:!0,baseQuery:Object(ie.d)({baseUrl:"/"}),tagTypes:["DeliveryConfig","TrackingConfig"],endpoints:function(){return{}}}),le=oe.injectEndpoints({overrideExisting:!1,endpoints:function(e){return{getDeliveryConfig:e.query({query:function(){return"".concat("/legacy-json-app","/deliveryconfig")},providesTags:["DeliveryConfig"]}),updateDeliveryConfig:e.mutation({query:function(e){return{url:"".concat("/legacy-json-app","/deliveryconfig"),method:"PUT",body:e}},invalidatesTags:["DeliveryConfig"]})}}}),ce=le.useGetDeliveryConfigQuery,se=le.useUpdateDeliveryConfigMutation,ue=Object(g.a)((function(e){return{appRoot:{margin:e.spacing(1)}}}));function me(){var e=ue(),t=ce(void 0,{selectFromResult:function(e){var t;return Object(d.a)({jsonString:null===(t=e.data)||void 0===t?void 0:t.value},e)}}).jsonString,a=se(),n=Object(m.a)(a,1)[0];return r.a.createElement("div",{className:e.appRoot},r.a.createElement(p.a,{variant:"h4"},"Legacy json app"),r.a.createElement("br",null),r.a.createElement(ne,{value:t,onSubmit:function(e){return n({value:e})},heightInRem:14,editorPath:"DELIVERY_CONFIG"}))}var de=a(15),pe=a(17),ge=Object(pe.a)({reducer:Object(de.a)({},oe.reducerPath,oe.reducer),middleware:function(e){return e().concat(oe.middleware)}}),ve=a(9),fe=a(51),be={value:'          {\n  "signature_required": "yes indeed", "customer_id": "1235339", "service_tier": "invalid enum val",\n  "address": {\n    "addressee": "Stringer Bell",\n    "premise_identifier": "Barksdale towers",\n  },\n  "handling_tags": [\n    "fragile",\n    "fragile"\n  ],\n  "dimensions": {\n    "width": -1,\n    "height": 4,\n    "depth": 1001\n  }\n}\n'},ye={value:'{\n "trackingId": 963258865235698523414741635649366\n}\n'},he=[fe.rest.get("".concat("/legacy-json-app","/deliveryconfig"),(function(e,t,a){return t(a.status(200),a.json(be))})),fe.rest.put("".concat("/legacy-json-app","/deliveryconfig"),(function(e,t,a){var n=e.body.value;return be={value:n},t(a.status(200))})),fe.rest.get("".concat("/legacy-json-app","/trackingconfig"),(function(e,t,a){return t(a.status(200),a.json(ye))})),fe.rest.put("".concat("/legacy-json-app","/trackingconfig"),(function(e,t,a){var n=e.body.value;return ye={value:n},t(a.status(200))}))],Ee=fe.setupWorker.apply(void 0,Object(ve.a)(he)),je=document.getElementById("root"),Ce=Object(l.a)();Ee.start({onUnhandledRequest:"bypass",serviceWorker:{url:"".concat("/legacy-json-app","/mockServiceWorker.js")}}),o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,{store:ge},r.a.createElement(c.a,{theme:Ce},r.a.createElement(s.a,null),r.a.createElement(me,null)))),je)}},[[162,1,2]]]);
//# sourceMappingURL=main.2d6a5325.chunk.js.map